# 在宅勤務申請システム 要求仕様分析

## 1. 機能要件

### 1.1. ユーザー権限管理
- **役割:**
    - **申請者:** 在宅勤務の申請を行う一般社員。
    - **承認者:** 申請を承認または却下する所属長。
    - **管理者 (人事総務部):** 承認者の権限付与・削除、全所属の利用状況の確認を行う。
- **権限設定:**
    - 管理者は、承認者の権限を管理できる。
    - 承認者は、所属内の申請のみを扱える。

### 1.2. 在宅勤務申請・承認フロー
- **申請ルール:**
    - **申請期限:** 原則、前営業日まで。特認により当日申請も可能。
    - **申請回数制限:**
        - 勤続3年以上の社員: 週2回まで。
        - 勤続3年未満の社員: 週1回まで。
        - 部分在宅勤務（半日など）: 0.5回としてカウント。
    - **特別な上限緩和:**
        - 小学校1年生までの子を養育する社員、または要介護・要支援家族を介護する社員: 月10日まで。
        - 台風や大雪など、通勤困難な場合: 所属長判断により超過を許可。
        - やむを得ない理由による恒常的な週3日以上: 人事総務部への相談が必要。
- **勤務時間ルール:**
    - **基本:** 1日8時間上限。
    - **時間外勤務:** 8時間を超える場合は、理由と業務終了予定時間を記載して事前申請が必要。
    - **時間帯制限:**
        - 5時以前、22時以降、所定休日の勤務は原則不可（所属長特認で例外あり）。
        - 5時〜7時の早朝勤務は事前申請と承認が必要。
- **特認申請:**
    - 当日申請やルール外の申請は「特認」扱い。
    - 特認申請の場合、理由の記載が必須。

### 1.3. 外部連携
- **Outlook連携:** 承認された在宅勤務情報をOutlookの予定表に自動で反映する。
- **路線情報連携:** 路線情報を自動取得し、計画運休や運転見合わせの場合に自動で特認承認とする。

### 1.4. データ管理・可視化
- **ダッシュボード:** 所属ごとの社員の利用状況を可視化する。
- **CSVエクスポート:** 人事総務部が全所属の利用状況をCSVファイルとして出力できる。

### 1.5. その他
- **人事異動対応:** 未来の日付で申請者、承認者、管理者の変更を予約・反映できる。

## 2. 非機能要件

- **利用者規模:**
    - 全体: 約1000人
    - 承認者: 約100人
- **認証:** シングルサインオン (SSO) を利用する。
- **パフォーマンス:** 1000人規模の利用に対して、快適なレスポンス速度を維持する。
- **セキュリティ:** データは安全に管理され、不正アクセスや情報漏洩のリスクがないこと。
- **UI/UX:** 直感的に操作しやすいインターフェースであること。

## 3. 制約条件

- **開発期間:** 2026年3月にサービスイン。期間延長は不可。